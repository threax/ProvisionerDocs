<h1>Provisioner App Architecture</h1>
<p>The provisioner app at its core is an app that given one or more config files will carry out a given command on those files in the order that is required.</p>
<p>To implement this there are a bunch of controllers that do the work that is needed for each step. Create a VM, setup a databse, call another controller. Anything put into a controller can be called directly from the command line and controllers can be injected into other controllers to create combination commands. The developer can also make services that provide functionality that can be shared, but that cannot be accessed from the command line. Finally there are the classes that form the app configuration itself including the common shared environment settings and the per app resources and other identified settings.</p>
<p>The .Net Core dependency injector is used to create and manage the controllers and services. The IDisposable pattern is used in some places to ensure that some tasks, such as opening firewall ports, are reversed before the program shuts down. If writable state is managed carefully async and await can be used to do work in parallel.</p>